import e,{div as t,label as a,strong as r,button as s}from"/Utils/elements.js";import{useCallback as o,useEffect as l,useRef as n}from"/cdn/react";import m from"/Utils/use-lang.js";import i from"/Components/range-input.js";import c from"/Utils/use-toggle.js";import{isMobile as u}from"/cdn/react-device-detect";export function decimalLimit(e,t=3){const a=Math.pow(10,t);return Math.round(e*a)/a}export default e((function(e){const n=m(),{blur:d,darkness:b,gradientLocation:g}=e.value,f=Object.keys(e.value).reduce(((t,a)=>(t[a]=o((t=>{let r={blur:d,darkness:b,gradientLocation:g};r[a]=t,e.updateValue(r)}),[d,b,g,e.updateValue]),t)),{}),p=o((()=>{}),[]),[x,v,L]=c(!u);return l((()=>{function e(){u&&L(!1)}return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]),t({className:"box gutter-b-2"},a(r(n("edit_shade"))),a({className:"box gutter-trbl-.5 flex-s"},t({className:"box-4"},n("shade_darkness"),":"),t({className:"grow gutter-tb"},i({formatLabel:e=>`${decimalLimit(100*e)}%`,value:b,min:0,max:1,step:.01,onChange:x?f.darkness:p}))),a({className:"box gutter-trbl-.5 flex-s"},t({className:"box-4"},n("blur_strength"),":"),t({className:"grow gutter-tb"},i({formatLabel:e=>`${decimalLimit(e)}px`,value:d,min:0,max:40,step:.1,onChange:x?f.blur:p}))),a({className:"box gutter-trbl-.5 flex-s"},t({className:"box-4"},n("fade_location"),":"),t({className:"grow gutter-tb"},i({formatLabel:e=>`${decimalLimit(e)}%`,value:g,min:0,max:100,step:.1,onChange:x?f.gradientLocation:p}))),u?a({className:"flex gutter-trbl-.5"},s({className:"gutter-trbl-.5 grow",onClick:v},n(x?"lock_shade_movement":"unlock_shade_movement"))):void 0)}));