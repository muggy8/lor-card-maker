import factory,{div,label,strong,input}from"/Utils/elements.js";import{useCallback}from"/cdn/react";import useLang from"/Utils/use-lang.js";import InputRangeComponent from"/cdn/react-input-range";import loadCss from"/Utils/load-css.js";const cssLoaded=Promise.all([loadCss("/cdn/react-input-range/lib/css/index.css"),loadCss("/Components/card-config/edit-shade.css")]),InputRange=factory(InputRangeComponent);function EditShadeComponent(a){const e=useLang(),{blur:t,darkness:s,gradientLocation:n}=a.value,l=Object.keys(a.value).reduce((e,l)=>(e[l]=useCallback(e=>{let o={blur:t,darkness:s,gradientLocation:n};o[l]=e,a.updateValue(o)},[t,s,n,a.updateValue]),e),{}),o=useCallback(({max:a,min:e})=>{l.gradientLocation([e,a])},[l.gradientLocation]),[r,i]=n;return div({className:"box gutter-b-2"},label(strong(e("edit_shade"))),label({className:"box gutter-trbl-.5 flex-s"},div({className:"box-4"},e("shade_darkness"),":"),div({className:"grow gutter-tb"},InputRange({formatLabel:a=>decimalLimit(100*a)+"%",value:s,minValue:0,maxValue:1,step:.01,onChange:l.darkness}))),label({className:"box gutter-trbl-.5 flex-s"},div({className:"box-4"},e("blur_strength"),":"),div({className:"grow gutter-tb"},InputRange({formatLabel:a=>decimalLimit(a)+"px",value:t,minValue:0,maxValue:40,step:.1,onChange:l.blur}))),label({className:"box gutter-trbl-.5 flex-s"},div({className:"box-4"},e("fade_location"),":"),div({className:"grow gutter-tb"},InputRange({formatLabel:a=>decimalLimit(a)+"%",value:{min:r,max:i},minValue:0,maxValue:100,step:.1,onChange:o}))))}function decimalLimit(a,e=3){const t=Math.pow(10,e);return Math.round(a*t)/t}export default factory(EditShadeComponent,cssLoaded);