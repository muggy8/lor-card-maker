import e,{div as t,label as s,strong as o,button as r}from"/Utils/elements.js";import l from"/Utils/use-lang.js";import{useCallback as a,useRef as c}from"/cdn/react";import i from"/Components/deck/hooks/use-filterable-custom-card-list.js";import n from"/cdn/react-modal";import m from"/Components/deck/custom-cards-filters-ui.js";import d from"/Components/deck/card-name.js";import p from"/Utils/use-toggle.js";import f from"/Utils/load-css.js";const u=e(n),C=f("/Components/card-config/edit-clone-existing.css");export default e((function(e){const n=l(),f=c({}),C=i(f,{exclude:void 0,include:["deck"]}),[g,b,N]=p(!1),k=a((t=>{Object.keys(t).forEach((s=>{if("id"===s||"type"===s||"dataVersion"===s)return;const o=e.cardDataUpdaters[s];void 0!==o&&o(t[s])})),N(!1)}),[e.cardDataUpdaters,N]);return s({className:"box"},t({className:"flex gutter-b-.5"},t({className:"grow flex vcenter"},o(n("clone"))),r({className:"gutter-trbl-.5",onClick:b},t({className:"icon "+(g?"no-eye":"eye")}))),u({isOpen:g,contentLabel:"Select Card to Clone",shouldCloseOnOverlayClick:!0,onRequestClose:()=>N(!1),ariaHideApp:!1,className:"clone-selection-modal gutter-trbl",overlayClassName:"clone-selection-overlay"},m({filterOptions:C.filterOptions,updateSelectedFilters:C.patchFilters,updateSelectedFilter:C.patchFilter,selectedFilters:C.currentFilters}),t((C.filteredCardList||[]).map((e=>e?t({className:"flex gutter-b",key:e.id},d({card:e,className:"box-9"},e.name),t({className:"box-3 flex no-wrap"},r({className:"grow gutter-trbl-.5",onClick:()=>k(e)},t(n("clone"))))):void 0)))))}),C);