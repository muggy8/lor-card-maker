import e,{div as t,label as a,strong as l,input as r,button as o,fragment as s}from"/Utils/elements.js";import{Globals as u}from"/Views/index.js";import{useCallback as c,useRef as m,useContext as n,useEffect as i}from"/cdn/react";import d from"/Utils/use-lang.js";export default e((function(e){const f=d(),g=n(u),b=m();b.current=g;const p=c((t=>{let a=t.target.files[0];if(!a)return;let l=new FileReader;l.addEventListener("load",(function(){e.updateValue(l.result),b.current.patchState({moveableArt:!0})})),l.readAsDataURL(a)}),[e.updateValue]),v=m(),h=c((()=>{v.current.click()}),[]);return i((()=>()=>{b.current.patchState({defaultBg:!0,moveableArt:!1})}),[]),s(a(t(l(e.label)),t({className:"flex hcenter gutter-trl-.5"},o({className:"gutter-trbl grow",onClick:h},f("upload_image"))),r({ref:v,className:"hide",type:"file",accept:"image/*",onChange:p})),!1!==e.moveable?t({className:"flex gutter-t-.5"},t({className:"flex gutter-l-.5 gutter-r-.25 box-6"},o({className:"box gutter-trbl-.5",onClick:()=>{e.value?g.patchState({moveableArt:!g.state.moveableArt}):g.value.moveableArt&&g.patchState({moveableArt:!1})},disabled:!e.value},f(g.state.moveableArt?"lock_art_movement":"unlock_art_movement"))),t({className:"flex gutter-r-.5 gutter-l-.25 box-6"},o({className:"box gutter-trbl-.5",onClick:()=>{g.patchState({defaultBg:!g.state.defaultBg})}},f(g.state.defaultBg?"default_bg_hide":"default_bg_show")))):void 0)}));