import e,{div as r}from"/Utils/elements.js";import{useRef as t,useState as o,useEffect as s,useContext as n}from"/cdn/react";import{Globals as a}from"/Views/index.js";import c from"/Components/card-template/svg-wrap.js";import m from"/Utils/load-css.js";import i from"/Utils/datauri.js";import d,{scaleFontSize as l}from"/Components/card-template/effect-text.js";import f from"/Components/card-template/image-render.js";import u from"/Utils/use-debounce-effect.js";import p from"/Utils/concurrency-manager.js";const g=m("/Components/card-template/keyword.css");export default e((function(e){const[n,a]=o(""),[m,f]=o("");s((()=>{i("/Assets/keyword/frame.png").then(a),i("/Assets/keyword/division.png").then(f)}),[]);const g=t();s((()=>{g.current=p()}),[]);const y=t();u((()=>{n&&g.current.concurrent((()=>l(y.current,60,16)))}),200,[e.name,e.icons,!!n]);const j=t();return u((()=>{n&&g.current.sequential((()=>l(j.current)))}),300,[e.effect,!!n]),c({width:512,height:512,loading:!n},n?r({className:"keyword",id:e.id,style:{backgroundImage:n?`url(${n})`:"none"}},r({className:"content",ref:j},r({className:"name-area"},e.icons&&e.icons.length?e.icons.map((e=>r({className:"keyword-icon",style:{backgroundImage:`url(${e})`},key:e}))):void 0,r({className:"name orange-word",ref:y},e.name)),r({className:"division",style:{backgroundImage:m?`url(${m})`:"none"}}),e.effect?d({blueWords:e.blueWords,orangeWords:e.orangeWords,className:"effect-container card-text-universe",effectText:e.effect}):void 0)):null)}),g);