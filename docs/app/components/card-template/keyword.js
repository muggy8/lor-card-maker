import e,{div as t}from"/Utils/elements.js";import{useRef as r,useState as o,useEffect as s,useContext as n}from"/cdn/react";import{Globals as c}from"/Views/index.js";import a from"/Components/card-template/svg-wrap.js";import m from"/Utils/load-css.js";import i from"/Utils/datauri.js";import d,{scaleFontSize as f}from"/Components/card-template/effect-text.js";import l from"/Utils/use-debounce-effect.js";import u from"/Utils/concurrency-manager.js";const p=m("/Components/card-template/keyword.css");export default e((function(e){const[n,c]=o(""),[m,p]=o("");s((()=>{i("/Assets/keyword/frame.png").then(c),i("/Assets/keyword/division.png").then(p)}),[]);const g=r();s((()=>{g.current=u()}),[]);const j=r();l((()=>{n&&g.current.concurrent((()=>f(j.current,60,16)))}),200,[e.name,!!n]);const w=r();return l((()=>{n&&g.current.sequential((()=>f(w.current)))}),200,[e.effect,!!n]),a({width:512,height:512,loading:!n},n?t({className:"keyword",id:e.id,style:{backgroundImage:n?`url(${n})`:"none"}},t({className:"content",ref:w},t({className:"name orange-word",ref:j},e.name),t({className:"division",style:{backgroundImage:m?`url(${m})`:"none"}}),e.effect?d({blueWords:e.blueWords,orangeWords:e.orangeWords,className:"effect-container card-text-universe",effectText:e.effect}):void 0)):null)}),p);