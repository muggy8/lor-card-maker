import e,{div as r}from"/Utils/elements.js";import{useRef as t,useState as o,useEffect as s,useContext as n}from"/cdn/react";import{Globals as a}from"/Views/index.js";import c from"/Components/card-template/svg-wrap.js";import m from"/Utils/load-css.js";import i from"/Utils/datauri.js";import l,{scaleFontSize as d}from"/Components/card-template/effect-text.js";import f from"/Components/card-template/image-render.js";import u from"/Utils/use-debounce-effect.js";import p from"/Utils/concurrency-manager.js";import g from"/Utils/use-asset-cache.js";const j=m("/Components/card-template/keyword.css");export default e((function(e){const o=g((e=>{i("/Assets/keyword/frame.png").then(e)}),[]),n=g((e=>{i("/Assets/keyword/frame.png").then(e)}),[]),a=t();s((()=>{a.current=p()}),[]);const m=t();u((()=>{o&&a.current.concurrent((()=>d(m.current,60,16)))}),200,[e.name,e.icons,!!o]);const f=t();return u((()=>{o&&a.current.sequential((()=>d(f.current)))}),300,[e.effect,!!o]),c({width:512,height:512,loading:!o},o?r({className:"keyword",id:e.id,style:{backgroundImage:o?`url(${o})`:"none"}},r({className:"content",ref:f},r({className:"name-area"},e.icons&&e.icons.length?e.icons.map((e=>r({className:"keyword-icon",style:{backgroundImage:`url(${e})`},key:e}))):void 0,r({className:"name orange-word",ref:m},e.name)),r({className:"division",style:{backgroundImage:n?`url(${n})`:"none"}}),e.effect?l({blueWords:e.blueWords,orangeWords:e.orangeWords,className:"effect-container card-text-universe",effectText:e.effect}):void 0)):null)}),j);