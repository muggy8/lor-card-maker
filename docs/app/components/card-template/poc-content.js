import e,{div as t}from"/Utils/elements.js";import{useRef as r,useState as o,useEffect as n,useContext as s}from"/cdn/react";import{Globals as c}from"/Views/index.js";import a from"/Utils/load-css.js";import m from"/Components/card-template/svg-wrap.js";import i from"/Components/card-template/image-render.js";import p,{scaleFontSize as l}from"/Components/card-template/effect-text.js";import f from"/Components/card-template/keyword-renderer.js";import d from"/cdn/fitty";import u from"/Utils/datauri.js";import y from"/Utils/use-debounce-effect.js";import g from"/Utils/concurrency-manager.js";import w,{useAssetCacheDebounced as j}from"/Utils/use-asset-cache.js";import{AutoFitClanText as I}from"/Components/card-template/unit.js";import x from"/Utils/use-lang.js";import h from"/Components/card-template/poc-icon.js";const N=a("/Components/card-template/poc-content.css");export default e((function(e){const o=w((e=>{u("/Assets/keyword/frame.png").then(e)}),[]),s=w((e=>{u("/Assets/keyword/division.png").then(e)}),[]),c=r();n((()=>{c.current=g()}),[]);const a=r();y((()=>{o&&!e.showOnlyIcon&&c.current.sequential((()=>l(a.current)))}),300,[e.name,e.effect,e.pocType,e.rarity,e.showOnlyIcon,!!o]);const i=r();y((()=>{o&&!e.showOnlyIcon&&c.current.concurrent((()=>l(i.current,60,16)))}),200,[e.name,e.effect,e.pocType,e.rarity,e.showOnlyIcon,!!o]);const f=r();return y((()=>{o&&!e.showOnlyIcon&&c.current.concurrent((()=>l(f.current,40,16)))}),100,[e.name,e.effect,e.pocType,e.rarity,e.showOnlyIcon,!!o]),e.showOnlyIcon?h(e):m({loading:!o||e.loading,onTransform:e.updateTransform,...e.transform||{x:0,y:0,scale:1},isInclusion:e.isInclusion},o?t({className:`poc-content ${e.rarity} ${e.pocType}`},t({className:"background",style:{backgroundImage:o?`url(${o})`:"none"}},t({className:"poc-content-icon"},h({...e,isInclusion:!0})),t({className:"division",style:{backgroundImage:s?`url(${s})`:"none"}}),t({className:"card-text-wrapper",ref:a},e.name?t({className:"name fitty-wrap card-text-bold card-text-outline",ref:i},e.name):void 0,t(t({className:`type-text fitty-wrap card-text-outline ${e.rarity}`,ref:f},`${e.rarity} ${e.pocType}`)),p({blueWords:e.blueWords,orangeWords:e.orangeWords,className:"effect-container card-text-universe",effectText:e.effect})))):void 0)}),N);