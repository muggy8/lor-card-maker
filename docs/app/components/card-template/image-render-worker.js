onmessage=e=>{(async function(e){const a=e.width,t=e.height,s=await createImageBitmap(e.image),r=new OffscreenCanvas(2*a,2*t),n=r.getContext("2d");return n.clearRect(0,0,r.width,r.height),n.drawImage(s,0,0,a,t,0,0,a,t),n.scale(-1,1),n.drawImage(s,0,0,a,t,-r.width,0,a,t),n.setTransform(1,0,0,1,0,0),n.scale(1,-1),n.drawImage(s,0,0,a,t,0,-r.height,a,t),n.setTransform(1,0,0,1,0,0),n.scale(-1,-1),n.drawImage(s,0,0,a,t,-r.width,-r.height,a,t),n.setTransform(1,0,0,1,0,0),r.convertToBlob()})(e.data).then(postMessage)};