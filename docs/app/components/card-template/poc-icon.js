import e,{div as r}from"/Utils/elements.js";import{useRef as a,useState as s,useEffect as o,useContext as t}from"/cdn/react";import{Globals as c}from"/Views/index.js";import p from"/Utils/load-css.js";import m from"/Components/card-template/svg-wrap.js";import n from"/Components/card-template/image-render.js";import l,{scaleFontSize as i}from"/Components/card-template/effect-text.js";import y from"/Components/card-template/keyword-renderer.js";import d from"/cdn/fitty";import f from"/Utils/datauri.js";import k from"/Utils/use-debounce-effect.js";import g from"/Utils/concurrency-manager.js";import h,{useAssetCacheDebounced as w}from"/Utils/use-asset-cache.js";import{AutoFitClanText as b}from"/Components/card-template/unit.js";import u from"/Utils/use-lang.js";const v=p("/Components/card-template/poc-icon.css");export default e((function(e){const a=t(c),s=h((e=>{f("/Assets/spell/backdrop.png").then(e)}),[]),o=h((r=>{switch(e.pocType){case"item":f("/Assets/keyword/poc-item-frame.png").then(r);break;case"relic":f("/Assets/keyword/poc-relic-frame.png").then(r);break;default:f("/Assets/keyword/poc-frame-overlay.png").then(r)}}),[e.pocType]),p=h((r=>{switch(e.pocType){case"item":case"relic":r("");break;default:f("/Assets/keyword/poc-frame-overlay-cover.png").then(r)}}),[e.pocType]),m=h((r=>{switch(e.pocType){case"item":switch(e.rarity){case"common":f("/Assets/keyword/poc-item-frame-overlay-common.png").then(r);break;case"rare":f("/Assets/keyword/poc-item-frame-overlay-rare.png").then(r);break;case"epic":f("/Assets/keyword/poc-item-frame-overlay-epic.png").then(r);break;case"champion":case"legendary":f("/Assets/keyword/poc-item-frame-overlay-legendary.png").then(r);break;case"special":f("/Assets/keyword/poc-item-frame-overlay-special.png").then(r);break;default:f("/Assets/keyword/poc-item-frame-overlay-color.png").then(r)}break;case"relic":switch(e.rarity){case"common":f("/Assets/keyword/poc-relic-frame-overlay-common.png").then(r);break;case"rare":f("/Assets/keyword/poc-relic-frame-overlay-rare.png").then(r);break;case"epic":f("/Assets/keyword/poc-relic-frame-overlay-epic.png").then(r);break;case"champion":case"legendary":f("/Assets/keyword/poc-relic-frame-overlay-legendary.png").then(r);break;case"special":f("/Assets/keyword/poc-relic-frame-overlay-special.png").then(r);break;default:f("/Assets/keyword/poc-relic-frame-overlay-color.png").then(r)}break;default:switch(e.rarity){case"common":f("/Assets/keyword/poc-frame-overlay-common.png").then(r);break;case"rare":f("/Assets/keyword/poc-frame-overlay-rare.png").then(r);break;case"epic":f("/Assets/keyword/poc-frame-overlay-epic.png").then(r);break;case"champion":case"legendary":f("/Assets/keyword/poc-frame-overlay-legendary.png").then(r);break;case"special":f("/Assets/keyword/poc-frame-overlay-special.png").then(r);break;default:f("/Assets/keyword/poc-frame-overlay-color.png").then(r)}}}),[e.pocType,e.rarity]),l=h((r=>{switch(e.rarity){case"common":f("/Assets/keyword/poc-common.png").then(r);break;case"rare":f("/Assets/keyword/poc-rare.png").then(r);break;case"epic":f("/Assets/keyword/poc-epic.png").then(r);break;case"champion":case"legendary":f("/Assets/keyword/poc-legendary.png").then(r);break;case"special":f("/Assets/keyword/poc-special.png").then(r);break;default:r("")}}),[e.rarity]);return r({className:`poc-icon-sticker ${e.rarity} ${e.pocType} ${e.className}`},r({className:"art",style:{backgroundImage:!e.art&&a.state.defaultBg&&s?`url(${s})`:"none","--scale":e.transform?e.transform.scale:1,"--left":e.transform?e.transform.x:0,"--top":e.transform?e.transform.y:0}},r({className:"scale-adjuster"},n({url:e.art}))),o?r({className:"frame-overlay",style:{backgroundImage:`url(${o})`}}):void 0,p?r({className:"frame-overlay-cover",style:{backgroundImage:`url(${p})`}}):void 0,m?r({className:"frame-rarity",style:{backgroundImage:`url(${m})`}}):void 0,l?r({className:"frame-rarity-gem",style:{backgroundImage:`url(${l})`}}):void 0)}),v);