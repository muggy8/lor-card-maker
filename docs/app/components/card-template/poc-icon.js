import e,{div as a}from"/Utils/elements.js";import{useRef as r,useState as s,useEffect as c,useContext as o,createElement as t}from"/cdn/react";import{Globals as p}from"/Views/index.js";import n from"/Utils/load-css.js";import m from"/Components/card-template/svg-wrap.js";import l from"/Components/card-template/image-render.js";import i,{scaleFontSize as g}from"/Components/card-template/effect-text.js";import f from"/Components/card-template/keyword-renderer.js";import y from"/cdn/fitty";import h from"/Utils/datauri.js";import d from"/Utils/use-debounce-effect.js";import k from"/Utils/concurrency-manager.js";import b,{useAssetCacheDebounced as u}from"/Utils/use-asset-cache.js";import{AutoFitClanText as A}from"/Components/card-template/unit.js";import v from"/Utils/use-lang.js";const j=n("/Components/card-template/poc-icon.css");export default e((function(e){const r=o(p),s=b((e=>{h("/Assets/spell/backdrop.png").then(e)}),[]),c=b((a=>{switch(e.pocType){case"item":h("/Assets/poc/poc-item-frame.png").then(a);break;case"relic":h("/Assets/poc/poc-relic-frame.png").then(a);break;default:h("/Assets/poc/poc-frame-overlay.png").then(a)}}),[e.pocType]),t=b((a=>{switch(e.pocType){case"item":case"relic":a("");break;default:h("/Assets/poc/poc-frame-overlay-cover.png").then(a)}}),[e.pocType]),n=b((a=>{switch(e.pocType){case"item":switch(e.rarity){case"common":h("/Assets/poc/poc-item-frame-overlay-common.png").then(a);break;case"rare":h("/Assets/poc/poc-item-frame-overlay-rare.png").then(a);break;case"epic":h("/Assets/poc/poc-item-frame-overlay-epic.png").then(a);break;case"champion":case"legendary":h("/Assets/poc/poc-item-frame-overlay-legendary.png").then(a);break;case"special":h("/Assets/poc/poc-item-frame-overlay-special.png").then(a);break;default:h("/Assets/poc/poc-item-frame-overlay-color.png").then(a)}break;case"relic":switch(e.rarity){case"common":h("/Assets/poc/poc-relic-frame-overlay-common.png").then(a);break;case"rare":h("/Assets/poc/poc-relic-frame-overlay-rare.png").then(a);break;case"epic":h("/Assets/poc/poc-relic-frame-overlay-epic.png").then(a);break;case"champion":case"legendary":h("/Assets/poc/poc-relic-frame-overlay-legendary.png").then(a);break;case"special":h("/Assets/poc/poc-relic-frame-overlay-special.png").then(a);break;default:h("/Assets/poc/poc-relic-frame-overlay-color.png").then(a)}break;default:switch(e.rarity){case"common":h("/Assets/poc/poc-frame-overlay-common.png").then(a);break;case"rare":h("/Assets/poc/poc-frame-overlay-rare.png").then(a);break;case"epic":h("/Assets/poc/poc-frame-overlay-epic.png").then(a);break;case"champion":case"legendary":h("/Assets/poc/poc-frame-overlay-legendary.png").then(a);break;case"special":h("/Assets/poc/poc-frame-overlay-special.png").then(a);break;default:h("/Assets/poc/poc-frame-overlay-color.png").then(a)}}}),[e.pocType,e.rarity]),i=b((a=>{if("relic"===e.pocType)switch(e.rarity){case"common":h("/Assets/poc/poc-common-relic-gem.png").then(a);break;case"rare":h("/Assets/poc/poc-rare-relic-gem.png").then(a);break;case"epic":h("/Assets/poc/poc-epic-relic-gem.png").then(a);break;case"champion":case"legendary":h("/Assets/poc/poc-legendary-relic-gem.png").then(a);break;case"special":h("/Assets/poc/poc-special-gem.png").then(a);break;default:a("")}else switch(e.rarity){case"common":h("/Assets/poc/poc-common-gem.png").then(a);break;case"rare":h("/Assets/poc/poc-rare-gem.png").then(a);break;case"epic":h("/Assets/poc/poc-epic-gem.png").then(a);break;case"champion":case"legendary":h("/Assets/poc/poc-legendary-gem.png").then(a);break;case"special":h("/Assets/poc/poc-special-gem.png").then(a);break;default:a("")}}),[e.rarity,e.pocType]);return m({width:384,height:384,isInclusion:e.isInclusion,loading:e.loading,onTransform:e.onTransform,...e.transform||{x:0,y:0,scale:1}},a({className:`poc-icon-sticker ${e.rarity} ${e.pocType}`},a({className:"art",style:{backgroundImage:!e.art&&r.state.defaultBg&&s?`url(${s})`:"none","--scale":e.transform?e.transform.scale:1,"--left":e.transform?e.transform.x:0,"--top":e.transform?e.transform.y:0}},a({className:"scale-adjuster"},l({url:e.art}))),c?a({className:"frame-overlay",style:{backgroundImage:`url(${c})`}}):void 0,t?a({className:"frame-overlay-cover",style:{backgroundImage:`url(${t})`}}):void 0,n?a({className:"frame-rarity",style:{backgroundImage:`url(${n})`}}):void 0,i?a({className:"frame-rarity-gem",style:{backgroundImage:`url(${i})`}}):void 0))}),j);