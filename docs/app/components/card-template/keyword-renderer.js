import factory,{div}from"/Utils/elements.js";import loadCss from"/Utils/load-css.js";import useLang from"/Utils/use-lang.js";import{useRef,useLayoutEffect,useState,useEffect}from"/cdn/react";import datauri from"/Utils/datauri.js";const cssLoaded=loadCss("/Components/card-template/keyword-renderer.css");export const keywords={attune:["attune.png"],attach:["attach.png"],augment:["augment.png"],fleeting:["fleeting.png"],scout:["scout.png"],barrier:["barrier.png"],deep:["deep.png"],frostbite:["frostbite.png"],skill:["skill.png"],burst:["burst.png"],"double attack":["doubleattack.png"],"last breath":["lastbreath.png"],slow:["slow.png"],"can't attack":["cantattack.png"],elusive:["elusive.png"],lifesteal:["lifesteal.png"],landmark:["landmark.png"],stun:["stun.png"],"can't block":["cantblock.png"],ephemeral:["ephemeral.png"],overwhelm:["overwhelm.png"],tough:["tough.png"],capture:["capture.png"],fast:["fast.png"],"quick attack":["quickattack.png"],vulnerable:["vulnerable.png"],challenger:["challenger.png"],fearsome:["fearsome.png"],regeneration:["regeneration.png"],spellshield:["spellshield.png"],fury:["fury.png"],focus:["focus.png"],formidable:["formidable.png"],lurk:["lurk.png"],impact:["impact.png"],fated:["fated.png"],evolve:["evolve.png"],hallowed:["hallowed.png"],equipment:["equipment.png"],immobile:["cantattack.png","cantblock.png"],trap:[],boon:[],silence:["silence.png"],trigger:["trigger.png"],impact:["impactn.png"],imbue:["imbue.png"]};function KeywordRendererComponent(e){const{name:t,size:n}=e,a=keywords[t]||[],s=useLang(),r=useRef(),[o,l]=useState([]),[g,p]=useState(""),[i,c]=useState(""),[u,d]=useState("");return useEffect(()=>{datauri("/Assets/keyword/keywordleft.png").then(p),datauri("/Assets/keyword/keywordright.png").then(c),datauri("/Assets/keyword/keywordmiddle.png").then(d)},[]),useEffect(()=>{const e=a.map(e=>datauri("/Assets/keyword/"+e));Promise.all(e).then(l)},[a]),useLayoutEffect(()=>{e.onDimension&&e.onDimension({width:r.current.clientWidth,height:r.current.clientHeight})},[e.onDimension,o.length]),div({className:"keyword-wrapper",ref:r},div({className:"left-bumper",style:{backgroundImage:g?`url(${g})`:"none"}}),div({className:"contents "+(a.length?n:"small"),style:{backgroundImage:u?`url(${u})`:"none"}},o.map(e=>div({key:e,className:"keyword-icon",style:{backgroundImage:`url(${e})`}})),"small"===n&&a.length?void 0:div({className:"keyword-text card-text-bold"},s(t))),div({className:"right-bumper",style:{backgroundImage:i?`url(${i})`:"none"}}))}export default factory(KeywordRendererComponent,cssLoaded);