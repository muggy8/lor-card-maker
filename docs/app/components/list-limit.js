import factory,{fragment}from"/Utils/elements.js";import{useState,useEffect,useRef}from"/cdn/react";import debounceFunction from"/Utils/debounce-function.js";function ListLimitComponent(e){const t=e.children.flat(),[n,o]=useState(12),r=useRef();r.current=e.bottomOffset||200;const c=useRef();c.current=n;const i=useRef();return i.current=t.length,useEffect(()=>{const e=debounceFunction(()=>{const e=document.body,t=document.documentElement,n=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight),s=window.innerHeight+window.scrollY;if(r.current+s>=n&&c.current<i.current){const e=Math.min(c.current+8,i.current);o(e)}},100);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),fragment(t.slice(0,n))}export default factory(ListLimitComponent);