import t,{fragment as e}from"/Utils/elements.js";import{useState as n,useEffect as r,useRef as o}from"/cdn/react";import c from"/Utils/debounce-function.js";export default t((function(t){const i=t.children.flat(),[l,s]=n(t.defaultSize||12);r((()=>{t.defaultSize&&t.defaultSize>l&&s(t.defaultSize)}),[t.defaultSize,l]);const u=o();u.current=t.bottomOffset||200;const d=o();d.current=l;const f=o();return f.current=i.length,r((()=>{const e=c((()=>{const e=document.body,n=document.documentElement,r=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),o=window.innerHeight+window.scrollY;if(u.current+o>=r&&d.current<f.current){const e=Math.min(d.current+(t.defaultSize||8),f.current);s(e)}}),100);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]),e(i.slice(0,l))}));