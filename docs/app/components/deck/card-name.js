import e from"./deck-card.js";import{useEffect as s,useState as t}from"/cdn/react";import a from"/Utils/datauri.js";import r,{div as o,fragment as c}from"/Utils/elements.js";import n from"/Utils/load-css.js";import i from"/Utils/use-asset-cache.js";import l from"/Utils/use-toggle.js";const d=n("/Components/deck/card-name.css"),p=["associatedCards","associatedCardRefs","assets","regions","regionRefs","attack","cost","health","description","descriptionRaw","levelupDescription","levelupDescriptionRaw","flavorText","artistName","name","cardCode","keywords","keywordRefs","spellSpeed","spellSpeedRef","rarity","rarityRef","subtypes","supertype","type","collectible","set"];export function isRitoCard(e){let s=0;return p.forEach((t=>{void 0!==e[t]&&s++})),s/p.length>.85}const m=a("/Assets/deck/mana-ball-unit.png"),u=a("/Assets/deck/mana-ball-slow.png"),h=a("/Assets/deck/mana-ball-unit.png"),f=a("/Assets/deck/mana-ball-champ.png");export default r((function(s){const t=i((e=>{e(!isRitoCard(s.card))}),[s.card]),a=i((e=>{if(void 0===t)return;const a=s.card;if(t)switch(a.type){case"spell":switch(a.speed){case"slow":case"equipment":return void u.then(e);default:return void h.then(e)}case"champion1":case"champion2":case"champion3":return void f.then(e);default:return void m.then(e)}else switch(a.type.toLowerCase()){case"equipment":return void u.then(e);case"spell":return"slow"===a.spellSpeed.toLowerCase()?void u.then(e):void h.then(e);default:return"champion"===a.supertype.toLowerCase()?void f.then(e):void m.then(e)}}),[t]),[r,c]=l(!1);return o({className:s.className},o({className:"card-shorthand clickable gutter-tb-.5",style:{"--mana-ball-type":a?`url(${a})`:"none"},onClick:c},o({className:"mana-cost"},Object.prototype.hasOwnProperty.call(s.card,"cost")?s.card.cost:s.card.mana),o({className:"shorthand-text capitalize"},s.children),o({className:"grow"}),o({className:"gutter-r-2"},o({className:"icon "+(r?"eye":"no-eye")}))),r?e({card:s.card,single:!0}):void 0)}),d);