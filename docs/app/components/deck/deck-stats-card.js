import e from"/Components/card-template/svg-wrap.js";import{isRitoCard as s}from"./card-name.js";import t,{div as n}from"/Utils/elements.js";import a from"/Utils/load-css.js";import c from"/Utils/use-asset-cache.js";import o from"/Utils/datauri.js";import{isExternalImage as l}from"./deck-card.js";const r=a("/Components/deck/deck-stats-card.css");export default t((function(t){const a=c((e=>{const n={cards:0,units:0,followers:0,champions:0,spells:0,equipments:0,landmarks:0,externals:0};(t.cards||[]).forEach((e=>{const{card:t}=e,a=s(t),c=l(t);if(a)"Unit"===t.type?(n.units+=e.count,"Champion"!==t.supertype&&(n.followers+=e.count)):"Equipment"===t.type?n.equipments+=e.count:"Landmark"===t.type?n.landmarks+=e.count:"Spell"===t.type&&(n.spells+=e.count),"Champion"===t.supertype&&(n.champions+=e.count);else if(c)n.externals+=e.count;else if("champion1"===t.type||"champion2"===t.type||"champion3"===t.type)n.units+=e.count,n.champions+=e.count;else if("follower"===t.type)n.followers+=e.count;else if("landmark"===t.type)n.landmarks+=e.count;else if("spell"===t.type)"equipment"===t.speed?n.equipments+=e.count:n.spells+=e.count;else if("keyword"===t.type)return;n.cards+=e.count})),e(n)}),[t.cards]),r=c((e=>{o("/Assets/deck/card-icon.png").then(e)})),i=c((e=>{o("/Assets/deck/unit-icon.png").then(e)})),d=c((e=>{o("/Assets/deck/champ-icon.png").then(e)})),m=c((e=>{o("/Assets/deck/follower-icon.png").then(e)})),p=c((e=>{o("/Assets/deck/spell-icon.png").then(e)})),u=c((e=>{o("/Assets/deck/landmark-icon.png").then(e)})),h=c((e=>{o("/Assets/deck/equipment-icon.png").then(e)})),k=c((e=>{o("/Assets/deck/external-icon.png").then(e)}));return a&&a.cards?e({isInclusion:t.isInclusion},n({className:"deck-stats-card"},n({className:"deck-stat"},n({style:{width:128,height:128,backgroundImage:`url(${r})`}}),a.cards),n({className:"deck-stat"},n({style:{width:128,height:128,backgroundImage:`url(${i})`}}),a.units),n({className:"deck-stat"},n({style:{width:128,height:128,backgroundImage:`url(${d})`}}),a.champions),n({className:"deck-stat"},n({style:{width:128,height:128,backgroundImage:`url(${m})`}}),a.followers),n({className:"deck-stat"},n({style:{width:128,height:128,backgroundImage:`url(${p})`}}),a.spells),n({className:"deck-stat"},n({style:{width:128,height:128,backgroundImage:`url(${u})`}}),a.landmarks),n({className:"deck-stat"},n({style:{width:128,height:128,backgroundImage:`url(${h})`}}),a.equipments),n({className:"deck-stat"},n({style:{width:128,height:128,backgroundImage:`url(${k})`}}),a.externals))):null}),r);