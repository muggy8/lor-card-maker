import r,{div as s}from"/Utils/elements.js";import{useEffect as o,useState as e,useCallback as t,createElement as c}from"/cdn/react";import d from"/Components/deck/deck-card.js";import a from"/Utils/use-asset-cache.js";import{calculateRowsAndColsForCardsRecursivelyWithCacheUse as i}from"/Components/batch-renderer.js";import m from"/Components/card-template/svg-wrap.js";import{svgRefference as n}from"/Views/card-editor.js";import l from"/Utils/load-css.js";import p from"./deck-stats-card.js";const f=l("/Components/deck/deck-view.css");export default r((function(r){const o=a((s=>{s(i(r.cards.length?[...r.cards.map((r=>r.card)),{}]:[]))}),[r.cards],{}),e=t((()=>{}),[]);return m({width:o.width,height:o.height,loading:r.loading},s({className:"svg-deck"},c(n.Provider,{value:{current:null,setRef:e}},r.cards.map((r=>{const s=r.card.id||r.card.cardCode||r.card.url;return d({key:s,...r,gridColumns:o.cols,gridRows:o.rows,cardSize:o.resolution})})),p({cards:r.cards}))))}),f);