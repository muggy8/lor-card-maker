import r,{div as s}from"/Utils/elements.js";import{useEffect as o,useState as t,useCallback as d,createElement as a}from"/cdn/react";import c from"/Components/deck/deck-card.js";import e from"/Utils/use-asset-cache.js";import{calculateRowsAndColsForCardsRecursivelyWithCacheUse as i}from"/Components/batch-renderer.js";import m from"/Components/card-template/svg-wrap.js";import{svgRefference as n}from"/Views/card-editor.js";import l from"/Utils/load-css.js";import p from"./deck-stats-card.js";const h=l("/Components/deck/deck-view.css");export default r((function(r){const o=e((s=>{s(i(r.cards.length?r.cardStats?[...r.cards.map((r=>r.card)),{}]:r.cards.map((r=>r.card)):[]))}),[r.cards,r.cardStats],{}),[t,l]=e((s=>{const o={width:0,height:0},t=[];if(!r.showAssociatedCards)return s([o,t]);console.log(r.cards)}),[r.cards,r.showAssociatedCards],[{},[]]),h=d((()=>{}),[]);return m({width:o.width,height:o.height,loading:r.loading},s({className:"svg-deck"},a(n.Provider,{value:{current:null,setRef:h}},r.cards.map((r=>{const s=r.card.id||r.card.cardCode||r.card.url;return c({key:s,...r,gridColumns:o.cols,gridRows:o.rows,cardSize:o.resolution})})),r.cardStats?p({cards:r.cards}):void 0,void r.showAssociatedCards)))}),h);