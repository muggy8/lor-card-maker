import e,{button as t,div as o,input as r,label as a,section as l}from"/Utils/elements.js";import{useContext as n,useState as s}from"/cdn/react";import{Globals as c}from"/Views/index.js";import m from"/Utils/load-css.js";import p from"/Utils/use-lang.js";import{getCardList as i}from"/Utils/service.js";import d from"/Components/list-limit.js";import u from"/Views/deck-builder.js";import f from"/Components/card-template/spell.js";import y from"/Components/card-template/champion1.js";import h from"/Components/card-template/champion2.js";import b from"/Components/card-template/champion3.js";import w from"/Components/card-template/follower.js";import k from"/Components/card-template/landmark.js";import g from"/Components/card-template/keyword.js";import C from"/Views/card-editor.js";import x from"/Views/deck-builder.js";import j from"/Utils/use-asset-cache.js";import v from"/Components/deck/deck-icon.js";import N from"/Components/card-template/poc-content.js";const K={name:"",mana:0,clan:[],art:"",id:"",faction:[],keywords:[],effect:"",orangeWords:[],blueWords:[],dataVersion:2,transform:{x:0,y:0,scale:1},associatedCards:[],fileName:""},V={blur:15,darkness:.25,gradientLocation:[50,75]};Object.freeze(V),Object.freeze(V.gradientLocation);export const defaultShade=V;const W=[{component:y,labelKey:"champ1",editor:C(y,{...K,power:0,health:0,lvup:"",rarity:"champion",type:"champion1",shade:V})},{component:h,labelKey:"champ2",editor:C(h,{...K,power:0,health:0,lvup:"",rarity:"",type:"champion2",shade:V})},{component:b,labelKey:"champ3",editor:C(b,{...K,power:0,health:0,lvup:"",rarity:"",type:"champion3",shade:V})},{component:f,labelKey:"spell",editor:C(f,{...K,power:null,health:null,speed:void 0,rarity:"",type:"spell",power:null,health:null,textBgColor:null,mana:"",lvup:""})},{component:f,labelKey:"equipment",editor:C(f,{...K,power:null,health:null,speed:"equipment",rarity:"",keywords:["equipment"],type:"spell",power:0,health:0,textBgColor:null,mana:0,lvup:""})},{component:w,labelKey:"follower",editor:C(w,{...K,power:0,health:0,lvup:"",rarity:"",type:"follower",shade:V})},{component:k,labelKey:"landmark",editor:C(k,{...K,lvup:"",rarity:"",keywords:["landmark"],type:"landmark",shade:V})},{component:g,labelKey:"keyword",editor:C(g,{id:"",name:"",fileName:"",type:"keyword",effect:"",blueWords:[],orangeWords:[],dataVersion:2,icons:[],largerIcon:!1})},{component:v,labelKey:"deck",beta:!0,editor:u},{component:N,labelKey:"poc_power",editor:C(N,{id:"",name:"",fileName:"",type:"poc",pocType:"power",rarity:"",effect:"",blueWords:[],orangeWords:[],dataVersion:2,art:"",transform:{x:0,y:0,scale:1}}),beta:!0},{component:N,labelKey:"poc_item",editor:C(N,{id:"",name:"",fileName:"",type:"poc",pocType:"item",rarity:"",effect:"",blueWords:[],orangeWords:[],dataVersion:2,art:"",transform:{x:0,y:0,scale:1}}),beta:!0},{component:N,labelKey:"poc_relic",editor:C(N,{id:"",name:"",fileName:"",type:"poc",pocType:"relic",rarity:"",effect:"",blueWords:[],orangeWords:[],dataVersion:2,art:"",transform:{x:0,y:0,scale:1}}),beta:!0}];export function typeToComponent(e){switch(e){case"champion1":return y;case"champion2":return h;case"champion3":return b;case"landmark":return k;case"follower":return w;case"spell":return f;case"keyword":return g;case"deck":return v;case"poc":return N;default:return}}const T=e((function(){const e=n(c),a=!0===e.state.settings.lowSpecsMode,m=p(),u=j((e=>{i({include:"deck"}).then(e)}),[],[]),[f,y]=s("");return l({id:"card-type-list",className:"gutter-t-2"},o({className:"flex gutter-rbl"},o({className:"flex grow gutter-r"},r({className:"grow gutter-trbl-.5",value:f,placeholder:m("search"),type:"search",onChange:e=>{y((e.target.value||"").toLowerCase())}})),t({className:"gutter-trbl-0.5 flex vhcenter",onClick:()=>y("")},o({className:"icon multiply"}))),o({className:"gutter-trbl-.5 flex"},d({defaultSize:a?4:void 0},W.map((t=>{const r=m("new_label",{cardType:m(t.labelKey),betaIf:t.beta?m("beta"):""},!1);return f&&!r.toLowerCase().includes(f)?null:o({className:"clickable gutter-trbl-.5 box-xs-6 box-m-3 flex column vhcenter",key:t.labelKey,onClick:()=>{e.setView(t.editor)}},t.component({...t.editor.defaultCardData,name:r}))})).filter((e=>!!e)),u.map((t=>{const r=typeToComponent(t.type);return r?f&&t.name&&!t.name.toLowerCase().includes(f)?null:o({className:"clickable gutter-trbl-.5 box-xs-6 box-m-3 flex column vhcenter",key:t.id,onClick:()=>{const o=W.find((e=>e.component===r));e.setView(o.editor),e.patchState({cardId:t.id})}},(()=>{try{return r(t)}catch(e){return r({name:m("error_loading_card",{cardName:t.name})})}})()):null})).filter((e=>!!e)))))}),m("/Views/list.css"));export default T;