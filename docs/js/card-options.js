App.cardOptions=function(t,e){return function(t,n){let a={subTemplates:e,rarityOptions:n};a.card=t;a.factionOptions=cardOptionsData.factionOptions,a.spellSpeedOptions=cardOptionsData.spellSpeedOptions,a.keywords=Object.keys(cardOptionsData.icons),a.toggleKeyword=function(e){let n=t.keywords.indexOf(e);-1===n?t.keywords.push(e):t.keywords.splice(n,1)};function s(t){if("selectionStart"in t&&document.activeElement==t)return{start:t.selectionStart,end:t.selectionEnd};if(t.createTextRange){var e=document.selection.createRange();if(e.parentElement()===t){var n=t.createTextRange();n.moveToBookmark(e.getBookmark());for(var a=0;n.compareEndPoints("EndToStart",n)>0;n.moveEnd("character",-1))a++;n.setEndPoint("StartToStart",t.createTextRange());for(var s={start:0,end:a};n.compareEndPoints("EndToStart",n)>0;n.moveEnd("character",-1))s.start++,s.end++;return s}}return-1}function i(t,e,n,a){return t.slice(0,e)+a+t.slice(e+Math.abs(n))}a.insertEffectSymbol=function(e){let n=a.cursorPos;n.start===n.end&&(t.effect=i(t.effect,n.start,0,`<${e}/>`))};a.cursorPos={start:0,end:0};a.rememberCursorPosition=function(){let t=s(a.effectInputArea);-1!==t&&(a.cursorPos=t)},a.processArtUpload=function(e){let n=new FileReader,a=e.files[0];n.addEventListener("load",(function(){t.art=n.result})),a&&(console.log(a),n.readAsDataURL(a))};a.levelPos={start:0,end:0};a.rememberLevelCursorPosition=function(){let t=s(a.levelInputArea);-1!==t&&(a.levelPos=t)},a.insertLevelEffectSymbol=function(e){let n=a.levelPos;n.start===n.end&&(t.lvup=i(t.lvup,n.start,0,`<${e}/>`))};return a.mbShowConfigs=!1,proxymity('\n<div class="mobile-config-footer gutter-trbl flex hcenter clickable" onclick="this.app.mbShowConfigs = !this.app.mbShowConfigs">\n\t<strong>Card Configs</strong>\n</div>\n<div class="slide-up gutter-tb {:this.app.mbShowConfigs ? \'active\' : \'\':}|{mbShowConfigs}|">\n\t{:Object.prototype.hasOwnProperty.call(this.app.card, "mana") ? proxymity(this.app.subTemplates.manaCostUI, this.app) : undefined:}\n\t\x3c!-- text break --\x3e\n\t{:Object.prototype.hasOwnProperty.call(this.app.card, "name") ? proxymity(this.app.subTemplates.cardNameUI, this.app) : undefined:}\n\t\x3c!-- text break --\x3e\n\t{:Object.prototype.hasOwnProperty.call(this.app.card, "clan") ? proxymity(this.app.subTemplates.cardClanUI, this.app) : undefined:}\n\t\x3c!-- text break --\x3e\n\t<div class="flex power-health">\n\t\t{:Object.prototype.hasOwnProperty.call(this.app.card, "power") ? proxymity(this.app.subTemplates.powerUI, this.app) : undefined:}\n\t\t\x3c!-- text break --\x3e\n\t\t{:Object.prototype.hasOwnProperty.call(this.app.card, "health") ? proxymity(this.app.subTemplates.healthUI, this.app) : undefined:}\n\t</div>\n\t{:Object.prototype.hasOwnProperty.call(this.app.card, "art") ? proxymity(this.app.subTemplates.artUploadUI, this.app) : undefined:}\n\t\x3c!-- text break --\x3e\n\t{:Object.prototype.hasOwnProperty.call(this.app.card, "effect") ? proxymity(this.app.subTemplates.cardEffectUI, this.app) : undefined:}\n\t\x3c!-- text break --\x3e\n\t{:Object.prototype.hasOwnProperty.call(this.app.card, "lvup") ? proxymity(this.app.subTemplates.cardLevelUI, this.app) : undefined:}\n\t\x3c!-- text break --\x3e\n\t{:Object.prototype.hasOwnProperty.call(this.app.card, "blueWords") ? proxymity(this.app.subTemplates.blueWordsUI, this.app) : undefined:}\n\t\x3c!-- text break --\x3e\n\t{:Object.prototype.hasOwnProperty.call(this.app.card, "orangeWords") ? proxymity(this.app.subTemplates.orangeWordsUI, this.app) : undefined:}\n\t\x3c!-- text break --\x3e\n\t{:Object.prototype.hasOwnProperty.call(this.app.card, "rarity") ? proxymity(this.app.subTemplates.raritySelectorUI, this.app) : undefined:}\n\t\x3c!-- text break --\x3e\n\t{:Object.prototype.hasOwnProperty.call(this.app.card, "speed") ? proxymity(this.app.subTemplates.speedSelectorUI, this.app) : undefined:}\n\t\x3c!-- text break --\x3e\n\t{:Object.prototype.hasOwnProperty.call(this.app.card, "faction") ? proxymity(this.app.subTemplates.regionSelectorUI, this.app) : undefined:}\n\t\x3c!-- text break --\x3e\n\t{:Object.prototype.hasOwnProperty.call(this.app.card, "keywords") ? proxymity(this.app.subTemplates.keywordChoiceUI, this.app) : undefined:}\n</div>\n',a)}}(0,{regionSelectorUI:'\n\t\t<label>\n\t\t\t<div>\n\t\t\t\t<strong>faction</strong>\n\t\t\t</div>\n\t\t\t<div class="flex gutter-b">\n\t\t\t\t<select name="rarity" class="box-12" onchange="this.app.card.faction = this.value" data-value="{:this.app.card.faction:}|{card.faction}|">\n\t\t\t\t\t\x3c!-- key: "index" --\x3e\n\t\t\t\t\t\t<option value="{:this.app.factionOptions[this.index]:}">{:this.app.factionOptions[this.index] || "none":}</option>\n\t\t\t\t\t\x3c!-- in: factionOptions --\x3e\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</label>',raritySelectorUI:'\n\t\t<label>\n\t\t\t<div>\n\t\t\t\t<strong>Rarity</strong>\n\t\t\t</div>\n\t\t\t<div class="flex gutter-b">\n\t\t\t\t<select name="rarity" class="box-12" onchange="this.app.card.rarity = this.value" data-value="{:this.app.card.rarity:}|{card.rarity}|">\n\t\t\t\t\t\x3c!-- key: "rarityIndex" --\x3e\n\t\t\t\t\t\t<option value="{:this.app.rarityOptions[this.rarityIndex]:}">{:this.app.rarityOptions[this.rarityIndex]:}</option>\n\t\t\t\t\t\x3c!-- in: rarityOptions --\x3e\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</label>\n\t',manaCostUI:'\n\t\t<label>\n\t\t\t<div>\n\t\t\t\t<strong>Mana Cost</strong>\n\t\t\t</div>\n\t\t\t<div class="flex gutter-b">\n\t\t\t\t<input\n\t\t\t\t\tclass="box-12"\n\t\t\t\t\tname="mana-cost"\n\t\t\t\t\ttype="number"\n\t\t\t\t\tdata-value="{:this.app.card.mana:}|{card.mana}|"\n\t\t\t\t\tonchange="this.app.card.mana = this.valueAsNumber || 0"\n\t\t\t\t\tonkeyup="this.app.card.mana = this.valueAsNumber || 0"\n\t\t\t\t>\n\t\t\t</div>\n\t\t</label>\n\t',powerUI:'\n\t\t<label class="grow">\n\t\t\t<div>\n\t\t\t\t<strong>Card Power</strong>\n\t\t\t</div>\n\t\t\t<div class="flex gutter-b">\n\t\t\t\t<input\n\t\t\t\t\tclass="box-12"\n\t\t\t\t\tname="power"\n\t\t\t\t\ttype="number"\n\t\t\t\t\tdata-value="{:this.app.card.power:}|{card.power}|"\n\t\t\t\t\tonchange="this.app.card.power = this.valueAsNumber || 0"\n\t\t\t\t\tonkeyup="this.app.card.power = this.valueAsNumber || 0"\n\t\t\t\t>\n\t\t\t</div>\n\t\t</label>\n\t',healthUI:'\n\t\t<label class="grow">\n\t\t\t<div>\n\t\t\t\t<strong>Card Health</strong>\n\t\t\t</div>\n\t\t\t<div class="flex gutter-b">\n\t\t\t\t<input\n\t\t\t\t\tclass="box-12"\n\t\t\t\t\tname="power"\n\t\t\t\t\ttype="number"\n\t\t\t\t\tdata-value="{:this.app.card.health:}|{card.health}|"\n\t\t\t\t\tonchange="this.app.card.health = this.valueAsNumber || 0"\n\t\t\t\t\tonkeyup="this.app.card.health = this.valueAsNumber || 0"\n\t\t\t\t>\n\t\t\t</div>\n\t\t</label>\n\t',cardNameUI:'\n\t\t<label>\n\t\t\t<div>\n\t\t\t\t<strong>Card Name</strong>\n\t\t\t</div>\n\t\t\t<div class="flex gutter-b">\n\t\t\t\t<input\n\t\t\t\t\tclass="box-12"\n\t\t\t\t\tname="card-name"\n\t\t\t\t\ttype="text"\n\t\t\t\t\tdata-value="{:this.app.card.name:}|{card.name}|"\n\t\t\t\t\tonchange="this.app.card.name = this.value || \'\'"\n\t\t\t\t\tonkeyup="this.app.card.name = this.value || \'\'"\n\t\t\t\t>\n\t\t\t</div>\n\t\t</label>\n\t',cardClanUI:'\n\t\t<label>\n\t\t\t<div>\n\t\t\t\t<strong>Card Clan (eg: Elite)</strong>\n\t\t\t</div>\n\t\t\t<div class="flex gutter-b">\n\t\t\t\t<input\n\t\t\t\t\tclass="box-12"\n\t\t\t\t\tname="card-name"\n\t\t\t\t\ttype="text"\n\t\t\t\t\tdata-value="{:this.app.card.clan:}|{card.clan}|"\n\t\t\t\t\tonchange="this.app.card.clan = this.value || \'\'"\n\t\t\t\t\tonkeyup="this.app.card.clan = this.value || \'\'"\n\t\t\t\t>\n\t\t\t</div>\n\t\t</label>\n\t',cardEffectUI:'\n\t\t<label>\n\t\t\t<div>\n\t\t\t\t<strong>Card Effect</strong>\n\t\t\t</div>\n\t\t\t<div class="flex gutter-b">\n\t\t\t\t<textarea\n\t\t\t\t\tdata-init="{:this.app.effectInputArea = this:}"\n\t\t\t\t\tclass="box-12"\n\t\t\t\t\tname="card-name"\n\t\t\t\t\tdata-value="{:this.app.card.effect:}|{card.effect}|"\n\t\t\t\t\tonchange="this.app.card.effect = this.value || \'\'"\n\t\t\t\t\tonkeyup="this.app.rememberCursorPosition()"\n\t\t\t\t\tonclick="this.app.rememberCursorPosition()"\n\t\t\t\t></textarea>\n\t\t\t</div>\n\t\t</label>\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t<strong>Key Symobols to insert into effect text</strong>\n\t\t\t</div>\n\t\t\t<div class="flex">\n\t\t\t\t\x3c!--key: "index" --\x3e\n\t\t\t\t\t<div class="box-2 flex column vhcenter gutter-trbl-.25 clickable" onclick="this.app.insertEffectSymbol(this.app.keywords[this.index])" data-init="{:this.innerHTML = createMiniKeyword(\'./assets/symbol/\' + cardOptionsData.icons[this.app.keywords[this.index]]).svg:}"></div>\n\t\t\t\t\x3c!-- in: keywords --\x3e\n\t\t\t</div>\n\t\t</div>\n\t',cardLevelUI:'\n\t\t<label>\n\t\t\t<div>\n\t\t\t\t<strong>Level Up Condition</strong>\n\t\t\t</div>\n\t\t\t<div class="flex gutter-b">\n\t\t\t\t<textarea\n\t\t\t\t\tdata-init="{:this.app.levelInputArea = this:}"\n\t\t\t\t\tclass="box-12"\n\t\t\t\t\tname="level-cond"\n\t\t\t\t\tdata-value="{:this.app.card.lvup:}|{card.lvup}|"\n\t\t\t\t\tonchange="this.app.card.lvup = this.value || \'\'"\n\t\t\t\t\tonkeyup="this.app.rememberLevelCursorPosition()"\n\t\t\t\t\tonclick="this.app.rememberLevelCursorPosition()"\n\t\t\t\t></textarea>\n\t\t\t</div>\n\t\t</label>\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t<strong>Key Symobols to insert into effect text</strong>\n\t\t\t</div>\n\t\t\t<div class="flex">\n\t\t\t\t\x3c!--key: "index" --\x3e\n\t\t\t\t\t<div class="box-2 flex column vhcenter gutter-trbl-.25 clickable" onclick="this.app.insertLevelEffectSymbol(this.app.keywords[this.index])" data-init="{:this.innerHTML = createMiniKeyword(\'./assets/symbol/\' + cardOptionsData.icons[this.app.keywords[this.index]]).svg:}"></div>\n\t\t\t\t\x3c!-- in: keywords --\x3e\n\t\t\t</div>\n\t\t</div>\n\t',keywordChoiceUI:'\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t<strong>Select Keywords</strong>\n\t\t\t</div>\n\t\t\t<div class="flex">\n\t\t\t\t\x3c!--key: "index" --\x3e\n\t\t\t\t\t<label class="box-2 flex column vhcenter gutter-trbl-.25 clickable {:this.app.card.keywords.some(word=>word===this.app.keywords[this.index]) ? \'\' : \'ghost\' :}|{card.keywords.length}|" onclick="this.app.toggleKeyword(this.app.keywords[this.index])">\n\t\t\t\t\t\t<div data-init="{:this.innerHTML = createMiniKeyword(\'./assets/symbol/\' + cardOptionsData.icons[this.app.keywords[this.index]]).svg:}"></div>\n\t\t\t\t\t</label>\n\t\t\t\t\x3c!-- in: keywords --\x3e\n\t\t\t</div>\n\t\t</div>\n\t',speedSelectorUI:'\n\t\t<label>\n\t\t\t<div>\n\t\t\t\t<strong>Speed</strong>\n\t\t\t</div>\n\t\t\t<div class="flex gutter-b">\n\t\t\t\t<select name="rarity" class="box-12" onchange="this.app.card.speed = this.value" data-value="{:this.app.card.speed:}|{card.speed}|">\n\t\t\t\t\t\x3c!-- key: "index" --\x3e\n\t\t\t\t\t\t<option value="{:this.app.spellSpeedOptions[this.index]:}">{:this.app.spellSpeedOptions[this.index]:}</option>\n\t\t\t\t\t\x3c!-- in: spellSpeedOptions --\x3e\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</label>\n\t',blueWordsUI:'\n\t\t<div class="gutter-t-.5 {:this.app.card.blueWords.length ? \'gutter-b-.5\' : \'\' :}|{card.blueWords.length}|">\n\t\t\t<div class="flex gutter-b-.5">\n\t\t\t\t<div class="grow">\n\t\t\t\t\t<strong>Other Cards Mentioned in Effect</strong>\n\t\t\t\t</div>\n\t\t\t\t<button onclick="this.app.card.blueWords.push(\'\')">Add Mention</button>\n\t\t\t</div>\n\t\t\t\x3c!-- key: "index" --\x3e\n\t\t\t\t<label class="flex gutter-tb-.5">\n\t\t\t\t\t<div class="grow flex gutter-r">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclass="box-12"\n\t\t\t\t\t\t\tname="mentions-{:this.index:}"\n\t\t\t\t\t\t\tdata-value="{:this.app.card.blueWords[this.index]:}|{card.blueWords[this.index]}|"\n\t\t\t\t\t\t\tonchange="this.app.card.blueWords[this.index] = this.value"\n\t\t\t\t\t\t\tonkeyup="this.app.card.blueWords[this.index] = this.value"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button onclick="this.app.card.blueWords.splice(this.index, 1)">X</button>\n\t\t\t\t</label>\n\t\t\t\x3c!-- in: card.blueWords --\x3e\n\t\t</div>\n\t',orangeWordsUI:'\n\t\t<div class="gutter-t-.5 {:this.app.card.orangeWords.length ? \'gutter-b-.5\' : \'\' :}|{card.orangeWords.length}|">\n\t\t\t<div class="flex gutter-b-.5">\n\t\t\t\t<div class="grow">\n\t\t\t\t\t<strong>Key Text mentioned in Effect</strong>\n\t\t\t\t</div>\n\t\t\t\t<button onclick="this.app.card.orangeWords.push(\'\')">Add Mention</button>\n\t\t\t</div>\n\t\t\t\x3c!-- key: "index" --\x3e\n\t\t\t\t<label class="flex gutter-tb-.5">\n\t\t\t\t\t<div class="grow flex gutter-r">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclass="box-12"\n\t\t\t\t\t\t\tname="mentions-{:this.index:}"\n\t\t\t\t\t\t\tdata-value="{:this.app.card.orangeWords[this.index]:}|{card.orangeWords[this.index]}|"\n\t\t\t\t\t\t\tonchange="this.app.card.orangeWords[this.index] = this.value"\n\t\t\t\t\t\t\tonkeyup="this.app.card.orangeWords[this.index] = this.value"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button onclick="this.app.card.orangeWords.splice(this.index, 1)">X</button>\n\t\t\t\t</label>\n\t\t\t\x3c!-- in: card.orangeWords --\x3e\n\t\t</div>\n\t',artUploadUI:'\n\t\t<label class="flex hcenter">\n\t\t\t<div class="gutter-trbl">\n\t\t\t\t<strong>Upload Image</strong>\n\t\t\t</div>\n\t\t\t<input class="hide" type="file" id="uplaod-art" name="art" accept="image/*" onchange="this.app.processArtUpload(this)"/>\n\t\t</label>\n\t'});