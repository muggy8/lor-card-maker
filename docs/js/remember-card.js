!function(){function a(a){return async function(e,t){let n;try{n=await fetch("./pseudo-api/card-list/"+a).then(a=>a.json())}catch(a){console.error(a),n=[]}let o=n.map((async function(a){try{return!!(await fetch("./pseudo-api/card/"+a).then(a=>a.json())).name&&a}catch(a){return!1}}));n=(await Promise.all(o)).filter(a=>!!a);let i=Date.now().toString();return t||(t=i,n.push(t)),await fetch("./pseudo-api/card-list/"+a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),await fetch("./pseudo-api/card/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t}}function e(a){return async function(){let e;try{e=await fetch("./pseudo-api/card-list/"+a).then(a=>a.json())}catch(a){console.error(a),e=[]}return e=await Promise.all(e.map((async function(a){return{id:a,cardData:await fetch("./pseudo-api/card/"+a).then(a=>a.json()).then(a=>("string"==typeof a.faction&&(a.faction=[a.faction]),a))}}))),e.filter(a=>a.cardData.name)}}function t(a){return async function(e){let t;try{t=await fetch("./pseudo-api/card-list/"+a).then(a=>a.json())}catch(a){console.error(a),t=[]}let n=t.indexOf(e);return n>-1&&t.splice(n,1),await fetch("./pseudo-api/card-list/"+a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),await fetch("./pseudo-api/card/"+e,{method:"DEL",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:a})}),!!n}}App.storage={saveFollower:a("follower"),saveChampion1:a("champion1"),saveChampion2:a("champion2"),saveChampion3:a("champion3"),saveLandmark:a("landmark"),saveSpell:a("spell"),getSavedFollower:e("follower"),getSavedChampion1:e("champion1"),getSavedChampion2:e("champion2"),getSavedChampion3:e("champion3"),getSavedLandmark:e("landmark"),getSavedSpell:e("spell"),delSavedFollower:t("follower"),delSavedChampion1:t("champion1"),delSavedChampion2:t("champion2"),delSavedChampion3:t("champion3"),delSavedLandmark:t("landmark"),delSavedSpell:t("spell")}}();